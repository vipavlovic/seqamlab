{"ast":null,"code":"import _objectSpread from\"/Users/VPAVLOVI/Downloads/seqam-lab-site/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Submit(){const[type,setType]=useState(\"paper\");const[form,setForm]=useState({});const[status,setStatus]=useState(\"\");const fields={paper:[\"title\",\"authors\",\"year\",\"journal\",\"doi\"],project:[\"title\",\"description\",\"date\"],person:[\"name\",\"title\",\"research_interests\",\"profile_link\"],course:[\"name\",\"description\",\"semester\"]};const handleChange=e=>{const{name,value}=e.target;setForm(_objectSpread(_objectSpread({},form),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();const token=process.env.REACT_APP_GH_TOKEN;const issueTitle=\"[\".concat(type.toUpperCase(),\"] \").concat(form.title||form.name);const issueBody=\"```json\\n\".concat(JSON.stringify(form,null,2),\"\\n```\");try{const res=await fetch(\"https://api.github.com/repos/vipavlovic/seqamlab/issues\",{method:\"POST\",headers:{Authorization:\"token \".concat(token),Accept:\"application/vnd.github.v3+json\"},body:JSON.stringify({title:issueTitle,body:issueBody})});if(res.ok){setStatus(\"✅ Submission posted as GitHub Issue.\");setForm({});}else{const err=await res.json();setStatus(\"❌ Error: \"+err.message);}}catch(err){setStatus(\"❌ Network error or bad token.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-[#cc0033] mb-6 text-center\",children:\"Submit New Entry\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:type,onChange:e=>{setType(e.target.value);setForm({});},className:\"border p-2 rounded w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"paper\",children:\"Paper\"}),/*#__PURE__*/_jsx(\"option\",{value:\"project\",children:\"Project\"}),/*#__PURE__*/_jsx(\"option\",{value:\"person\",children:\"Person\"}),/*#__PURE__*/_jsx(\"option\",{value:\"course\",children:\"Course\"})]})]}),fields[type].map(field=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:field.replace(/_/g,' ')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:field,value:form[field]||\"\",onChange:handleChange,className:\"border p-2 rounded w-full\",required:true})]},field)),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-[#cc0033] text-white rounded hover:bg-red-700\",children:\"Submit to GitHub\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-2\",children:\"Generated JSON\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"bg-gray-100 p-4 text-sm rounded border overflow-x-auto\",children:JSON.stringify(form,null,2)})]}),status&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-center font-semibold\",children:status})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Submit","type","setType","form","setForm","status","setStatus","fields","paper","project","person","course","handleChange","e","name","value","target","_objectSpread","handleSubmit","preventDefault","token","process","env","REACT_APP_GH_TOKEN","issueTitle","concat","toUpperCase","title","issueBody","JSON","stringify","res","fetch","method","headers","Authorization","Accept","body","ok","err","json","message","className","children","onSubmit","onChange","map","field","replace","required"],"sources":["/Users/VPAVLOVI/Downloads/seqam-lab-site/src/pages/Submit.jsx"],"sourcesContent":["import React, { useState } from \"react\";\n\nexport default function Submit() {\n  const [type, setType] = useState(\"paper\");\n  const [form, setForm] = useState({});\n  const [status, setStatus] = useState(\"\");\n\n  const fields = {\n    paper: [\"title\", \"authors\", \"year\", \"journal\", \"doi\"],\n    project: [\"title\", \"description\", \"date\"],\n    person: [\"name\", \"title\", \"research_interests\", \"profile_link\"],\n    course: [\"name\", \"description\", \"semester\"],\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm({ ...form, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const token = process.env.REACT_APP_GH_TOKEN;\n    const issueTitle = `[${type.toUpperCase()}] ${form.title || form.name}`;\n    const issueBody = `\\`\\`\\`json\n${JSON.stringify(form, null, 2)}\n\\`\\`\\``;\n\n    try {\n      const res = await fetch(\n        \"https://api.github.com/repos/vipavlovic/seqamlab/issues\",\n        {\n          method: \"POST\",\n          headers: {\n            Authorization: `token ${token}`,\n            Accept: \"application/vnd.github.v3+json\",\n          },\n          body: JSON.stringify({\n            title: issueTitle,\n            body: issueBody,\n          }),\n        }\n      );\n\n      if (res.ok) {\n        setStatus(\"✅ Submission posted as GitHub Issue.\");\n        setForm({});\n      } else {\n        const err = await res.json();\n        setStatus(\"❌ Error: \" + err.message);\n      }\n    } catch (err) {\n      setStatus(\"❌ Network error or bad token.\");\n    }\n  };\n\n  return (\n    <div className=\"p-6 max-w-2xl mx-auto\">\n      <h1 className=\"text-3xl font-bold text-[#cc0033] mb-6 text-center\">Submit New Entry</h1>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-semibold mb-1\">Type</label>\n          <select name=\"type\" value={type} onChange={(e) => { setType(e.target.value); setForm({}); }} className=\"border p-2 rounded w-full\">\n            <option value=\"paper\">Paper</option>\n            <option value=\"project\">Project</option>\n            <option value=\"person\">Person</option>\n            <option value=\"course\">Course</option>\n          </select>\n        </div>\n\n        {fields[type].map((field) => (\n          <div key={field}>\n            <label className=\"block text-sm font-semibold mb-1\">{field.replace(/_/g, ' ')}</label>\n            <input\n              type=\"text\"\n              name={field}\n              value={form[field] || \"\"}\n              onChange={handleChange}\n              className=\"border p-2 rounded w-full\"\n              required\n            />\n          </div>\n        ))}\n\n        <button type=\"submit\" className=\"px-4 py-2 bg-[#cc0033] text-white rounded hover:bg-red-700\">\n          Submit to GitHub\n        </button>\n      </form>\n\n      <div className=\"mt-6\">\n        <h2 className=\"text-lg font-semibold mb-2\">Generated JSON</h2>\n        <pre className=\"bg-gray-100 p-4 text-sm rounded border overflow-x-auto\">{JSON.stringify(form, null, 2)}</pre>\n      </div>\n\n      {status && <p className=\"mt-4 text-center font-semibold\">{status}</p>}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}