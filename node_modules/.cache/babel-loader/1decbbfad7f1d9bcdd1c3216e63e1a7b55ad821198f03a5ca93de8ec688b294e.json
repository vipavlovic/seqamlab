{"ast":null,"code":"var _jsxFileName = \"/Users/VPAVLOVI/Downloads/seqam-lab-site/src/pages/Submit.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { auth, provider } from \"../firebase\";\nimport { signInWithPopup, signOut } from \"firebase/auth\";\nimport allowedUsers from \"../data/authorized_users.json\";\nimport bibtexParse from \"bibtex-parse-js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Submit() {\n  _s();\n  var _user$reloadUserInfo;\n  const [user, setUser] = useState(null);\n  const [type, setType] = useState(\"paper\");\n  const [form, setForm] = useState({});\n  const [status, setStatus] = useState(\"\");\n  const [bibtexData, setBibtexData] = useState([]);\n  const [fileName, setFileName] = useState(\"\");\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(u => {\n      var _u$reloadUserInfo;\n      const screenName = u === null || u === void 0 ? void 0 : (_u$reloadUserInfo = u.reloadUserInfo) === null || _u$reloadUserInfo === void 0 ? void 0 : _u$reloadUserInfo.screenName;\n      if (u && allowedUsers.includes(screenName)) {\n        setUser(u);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  const fields = {\n    paper: [\"title\", \"authors\", \"year\", \"journal\", \"doi\"],\n    project: [\"title\", \"description\", \"date\"],\n    person: [\"name\", \"title\", \"research_interests\", \"profile_link\"],\n    course: [\"name\", \"description\", \"semester\"]\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm({\n      ...form,\n      [name]: value\n    });\n  };\n  const handleBibtexUpload = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setFileName(file.name);\n    const reader = new FileReader();\n    reader.onload = () => {\n      try {\n        const raw = reader.result;\n        const entries = bibtexParse.toJSON(raw);\n        const parsed = entries.map(entry => {\n          var _entry$entryTags, _entry$entryTags2, _entry$entryTags3, _entry$entryTags4, _entry$entryTags5, _entry$entryTags6;\n          const entryTextMatch = raw.match(new RegExp(`@${entry.entryType}\\s*\\{\\s*${entry.citationKey}[^]*?\\n\\}`, \"i\"));\n          return {\n            title: ((_entry$entryTags = entry.entryTags) === null || _entry$entryTags === void 0 ? void 0 : _entry$entryTags.title) || \"\",\n            authors: ((_entry$entryTags2 = entry.entryTags) === null || _entry$entryTags2 === void 0 ? void 0 : _entry$entryTags2.author) || \"\",\n            year: ((_entry$entryTags3 = entry.entryTags) === null || _entry$entryTags3 === void 0 ? void 0 : _entry$entryTags3.year) || \"\",\n            journal: ((_entry$entryTags4 = entry.entryTags) === null || _entry$entryTags4 === void 0 ? void 0 : _entry$entryTags4.journal) || ((_entry$entryTags5 = entry.entryTags) === null || _entry$entryTags5 === void 0 ? void 0 : _entry$entryTags5.booktitle) || \"\",\n            doi: ((_entry$entryTags6 = entry.entryTags) === null || _entry$entryTags6 === void 0 ? void 0 : _entry$entryTags6.doi) || \"\",\n            bibtex: entryTextMatch ? entryTextMatch[0].trim() : \"\"\n          };\n        }).filter(p => p.title);\n        setBibtexData(parsed);\n        setStatus(`✅ Parsed ${parsed.length} BibTeX entr${parsed.length === 1 ? 'y' : 'ies'}`);\n      } catch (err) {\n        setStatus(\"❌ Failed to parse BibTeX file.\");\n      }\n    };\n    reader.readAsText(file);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const entries = type === 'paper' && bibtexData.length > 0 ? bibtexData : [form];\n    const issueTitle = type === 'paper' && bibtexData.length > 0 ? `[PAPER] Bulk import from ${fileName}` : `[${type.toUpperCase()}] ${form.title || form.name}`;\n    const issueBody = `\\n\\nSubmitted via SEQAM Lab website:\\n\\n\\`\\`\\`json\\n${JSON.stringify(entries, null, 2)}\\n\\`\\`\\``;\n    const labels = encodeURIComponent(\"email-alert\");\n    const issueUrl = `https://github.com/vipavlovic/seqamlab/issues/new?title=${encodeURIComponent(issueTitle)}&body=${encodeURIComponent(issueBody)}&labels=${labels}`;\n    window.open(issueUrl, '_blank');\n    setStatus(\"✅ GitHub Issue draft opened in new tab. Review and submit it manually.\");\n  };\n  const username = user === null || user === void 0 ? void 0 : (_user$reloadUserInfo = user.reloadUserInfo) === null || _user$reloadUserInfo === void 0 ? void 0 : _user$reloadUserInfo.screenName;\n  if (!username || !allowedUsers.includes(username)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-20 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg\",\n        children: \"This page is restricted to SEQAM Lab members.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => signInWithPopup(auth, provider),\n        className: \"bg-[#cc0033] text-white px-4 py-2 rounded\",\n        children: \"Sign in with GitHub\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4 text-sm text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Signed in as \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          signOut(auth);\n          setUser(null);\n        },\n        className: \"text-red-600 underline\",\n        children: \"Sign out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-[#cc0033] mb-6 text-center\",\n      children: \"Submit New Entry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold mb-1\",\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"type\",\n          value: type,\n          onChange: e => {\n            setType(e.target.value);\n            setForm({});\n            setBibtexData([]);\n          },\n          className: \"border p-2 rounded w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"paper\",\n            children: \"Paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"project\",\n            children: \"Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"person\",\n            children: \"Person\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"course\",\n            children: \"Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), type === \"paper\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold mb-1\",\n          children: \"Upload BibTeX File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".bib\",\n          onChange: handleBibtexUpload,\n          className: \"border p-2 rounded w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), bibtexData.length === 0 && fields[type].map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold mb-1\",\n          children: field.replace(/_/g, ' ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: field,\n          value: form[field] || \"\",\n          onChange: handleChange,\n          className: \"border p-2 rounded w-full\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, field, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 bg-[#cc0033] text-white rounded hover:bg-red-700\",\n        children: \"Draft GitHub Issue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), (bibtexData.length > 0 || Object.keys(form).length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: \"Generated JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"bg-gray-100 p-4 text-sm rounded border overflow-x-auto\",\n        children: JSON.stringify(bibtexData.length > 0 ? bibtexData : form, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this), status && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-4 text-center font-semibold\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(Submit, \"aLSFPlzqkX/EmYUAlSZSvS7obmI=\");\n_c = Submit;\nvar _c;\n$RefreshReg$(_c, \"Submit\");","map":{"version":3,"names":["React","useEffect","useState","auth","provider","signInWithPopup","signOut","allowedUsers","bibtexParse","jsxDEV","_jsxDEV","Submit","_s","_user$reloadUserInfo","user","setUser","type","setType","form","setForm","status","setStatus","bibtexData","setBibtexData","fileName","setFileName","unsubscribe","onAuthStateChanged","u","_u$reloadUserInfo","screenName","reloadUserInfo","includes","fields","paper","project","person","course","handleChange","e","name","value","target","handleBibtexUpload","file","files","reader","FileReader","onload","raw","result","entries","toJSON","parsed","map","entry","_entry$entryTags","_entry$entryTags2","_entry$entryTags3","_entry$entryTags4","_entry$entryTags5","_entry$entryTags6","entryTextMatch","match","RegExp","entryType","citationKey","title","entryTags","authors","author","year","journal","booktitle","doi","bibtex","trim","filter","p","length","err","readAsText","handleSubmit","preventDefault","issueTitle","toUpperCase","issueBody","JSON","stringify","labels","encodeURIComponent","issueUrl","window","open","username","className","children","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","onChange","accept","field","replace","required","Object","keys","_c","$RefreshReg$"],"sources":["/Users/VPAVLOVI/Downloads/seqam-lab-site/src/pages/Submit.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { auth, provider } from \"../firebase\";\nimport { signInWithPopup, signOut } from \"firebase/auth\";\nimport allowedUsers from \"../data/authorized_users.json\";\nimport bibtexParse from \"bibtex-parse-js\";\n\nexport default function Submit() {\n  const [user, setUser] = useState(null);\n  const [type, setType] = useState(\"paper\");\n  const [form, setForm] = useState({});\n  const [status, setStatus] = useState(\"\");\n  const [bibtexData, setBibtexData] = useState([]);\n  const [fileName, setFileName] = useState(\"\");\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((u) => {\n      const screenName = u?.reloadUserInfo?.screenName;\n      if (u && allowedUsers.includes(screenName)) {\n        setUser(u);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const fields = {\n    paper: [\"title\", \"authors\", \"year\", \"journal\", \"doi\"],\n    project: [\"title\", \"description\", \"date\"],\n    person: [\"name\", \"title\", \"research_interests\", \"profile_link\"],\n    course: [\"name\", \"description\", \"semester\"],\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm({ ...form, [name]: value });\n  };\n\n  const handleBibtexUpload = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setFileName(file.name);\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      try {\n        const raw = reader.result;\n        const entries = bibtexParse.toJSON(raw);\n        const parsed = entries.map(entry => {\n          const entryTextMatch = raw.match(new RegExp(`@${entry.entryType}\\s*\\{\\s*${entry.citationKey}[^]*?\\n\\}`, \"i\"));\n          return {\n            title: entry.entryTags?.title || \"\",\n            authors: entry.entryTags?.author || \"\",\n            year: entry.entryTags?.year || \"\",\n            journal: entry.entryTags?.journal || entry.entryTags?.booktitle || \"\",\n            doi: entry.entryTags?.doi || \"\",\n            bibtex: entryTextMatch ? entryTextMatch[0].trim() : \"\"\n          };\n        }).filter(p => p.title);\n        setBibtexData(parsed);\n        setStatus(`✅ Parsed ${parsed.length} BibTeX entr${parsed.length === 1 ? 'y' : 'ies'}`);\n      } catch (err) {\n        setStatus(\"❌ Failed to parse BibTeX file.\");\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const entries = type === 'paper' && bibtexData.length > 0 ? bibtexData : [form];\n    const issueTitle = type === 'paper' && bibtexData.length > 0\n      ? `[PAPER] Bulk import from ${fileName}`\n      : `[${type.toUpperCase()}] ${form.title || form.name}`;\n\n    const issueBody = `\\n\\nSubmitted via SEQAM Lab website:\\n\\n\\`\\`\\`json\\n${JSON.stringify(entries, null, 2)}\\n\\`\\`\\``;\n    const labels = encodeURIComponent(\"email-alert\");\n    const issueUrl = `https://github.com/vipavlovic/seqamlab/issues/new?title=${encodeURIComponent(issueTitle)}&body=${encodeURIComponent(issueBody)}&labels=${labels}`;\n\n    window.open(issueUrl, '_blank');\n    setStatus(\"✅ GitHub Issue draft opened in new tab. Review and submit it manually.\");\n  };\n\n  const username = user?.reloadUserInfo?.screenName;\n\n  if (!username || !allowedUsers.includes(username)) {\n    return (\n      <div className=\"text-center mt-20 space-y-4\">\n        <p className=\"text-lg\">This page is restricted to SEQAM Lab members.</p>\n        <button\n          onClick={() => signInWithPopup(auth, provider)}\n          className=\"bg-[#cc0033] text-white px-4 py-2 rounded\"\n        >\n          Sign in with GitHub\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 max-w-2xl mx-auto\">\n      <div className=\"flex justify-between items-center mb-4 text-sm text-gray-600\">\n        <span>Signed in as <strong>{username}</strong></span>\n        <button\n          onClick={() => { signOut(auth); setUser(null); }}\n          className=\"text-red-600 underline\"\n        >\n          Sign out\n        </button>\n      </div>\n\n      <h1 className=\"text-3xl font-bold text-[#cc0033] mb-6 text-center\">Submit New Entry</h1>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-semibold mb-1\">Type</label>\n          <select name=\"type\" value={type} onChange={(e) => { setType(e.target.value); setForm({}); setBibtexData([]); }} className=\"border p-2 rounded w-full\">\n            <option value=\"paper\">Paper</option>\n            <option value=\"project\">Project</option>\n            <option value=\"person\">Person</option>\n            <option value=\"course\">Course</option>\n          </select>\n        </div>\n\n        {type === \"paper\" && (\n          <div>\n            <label className=\"block text-sm font-semibold mb-1\">Upload BibTeX File</label>\n            <input type=\"file\" accept=\".bib\" onChange={handleBibtexUpload} className=\"border p-2 rounded w-full\" />\n          </div>\n        )}\n\n        {bibtexData.length === 0 && fields[type].map((field) => (\n          <div key={field}>\n            <label className=\"block text-sm font-semibold mb-1\">{field.replace(/_/g, ' ')}</label>\n            <input\n              type=\"text\"\n              name={field}\n              value={form[field] || \"\"}\n              onChange={handleChange}\n              className=\"border p-2 rounded w-full\"\n              required\n            />\n          </div>\n        ))}\n\n        <button type=\"submit\" className=\"px-4 py-2 bg-[#cc0033] text-white rounded hover:bg-red-700\">\n          Draft GitHub Issue\n        </button>\n      </form>\n\n      {(bibtexData.length > 0 || Object.keys(form).length > 0) && (\n        <div className=\"mt-6\">\n          <h2 className=\"text-lg font-semibold mb-2\">Generated JSON</h2>\n          <pre className=\"bg-gray-100 p-4 text-sm rounded border overflow-x-auto\">\n            {JSON.stringify(bibtexData.length > 0 ? bibtexData : form, null, 2)}\n          </pre>\n        </div>\n      )}\n\n      {status && <p className=\"mt-4 text-center font-semibold\">{status}</p>}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}